<!DOCTYPE html>
<html>
    <head>
        <title>명품 브랜드 테스트</title>
        <meta
            name="description"
            content="구글 Teachable Machine AI를 통해서 내가 입은 옷 스타일이 어떤 명품 브랜드의 스타일과 유사한지 알아보자."
        />
        <link rel="canonical" href="https://brandtest.netlify.app/" />
        <meta property="author" content="ShavitES Lee" />
        <meta property="og:title" content="내 패션이 어떤 명품 브랜드 스타일인지 확인해보기" />
        <meta
            property="og:description"
            content="구글 Teachable Machine AI를 통해서 내가 입은 옷 스타일이 어떤 명품 브랜드의 스타일과 유사한지 알아보자."
        />
        <meta property="og:image" content="images/android-chrome-512x512.png" />
        <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png" />
        <!-- <link rel="manifest" href="/site.webmanifest" /> -->
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-2BE0CN285J"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'G-2BE0CN285J');
        </script>
		<script data-ad-client="ca-pub-5433204869198862" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="style.css" />
        <meta name="naver-site-verification" content="ac6469ea3b0f06392d94df236f8e499bf010f308" />
    </head>
    <body>
        <h1 class="titlebrand">명품 브랜드 테스트</h1>
        <h2 class="subtitle">나의 패션은 어떤 명품 스타일일까?</h2>

        <script
            class="jsbin"
            src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
        ></script>
        <div class="file-upload">
            <div class="image-upload-wrap">
                <input
                    class="file-upload-input"
                    type="file"
                    onchange="readURL(this);"
                    accept="image/*"
                />
                <div class="drag-text">
                    옷을 입은 전신 사진을<br />
                    업로드해주세요.<br /><br />
                    얼굴이 안 나오게 자르면<br />
                    더 정확합니다.
                    <div class="drag-text" id="NEVERSAVE">
                        파일은 그 어디에도 저장되지 않습니다.
                    </div>
                </div>
            </div>
            <div class="file-upload-content">
                <img class="file-upload-image" id="face-image" src="#" alt="your image" />
                <br />
                <div class="spinner-border text-light m-3" role="status">
                    <div class="visually-hidden">Loading...</div>
                </div>
                <div class="loading">
                    AI가 당신의 패션을 분석 중입니다..
                </div>
                <p class="result-message"></p>
                <div id="label-container" class="d-flex flex-column justify-content-around"></div>
                <div class="image-title-wrap">
                    <button type="button" onclick="removeUpload()" class="remove-image">
                        다른 사진으로 다시하기
                    </button>
                </div>
            </div>
            <div class="home-button"></div>
        </div>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script>
            var title = '';
            const prediction = [];
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('.image-upload-wrap').hide();

                        $('.file-upload-image').attr('src', e.target.result);
                        $('.file-upload-content').show();

                        $('.image-title').html(input.files[0].name);
                    };

                    reader.readAsDataURL(input.files[0]);
                    $('.spinner-border').show();
                    $('.loading').show();
                    init().then(() => {
                        predict();
                    });
                } else {
                    removeUpload();
                }
            }

            function removeUpload() {
                $('.file-upload-input').replaceWith($('.file-upload-input').clone());
                $('.result-message').empty();
                $('#label-container').empty();
                $('.file-upload-content').hide();
                $('.image-upload-wrap').show();
            }
            $('.image-upload-wrap').bind('dragover', function () {
                $('.image-upload-wrap').addClass('image-dropping');
            });
            $('.image-upload-wrap').bind('dragleave', function () {
                $('.image-upload-wrap').removeClass('image-dropping');
            });
        </script>
        <script type="text/javascript">
            // More API functions here:
            // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

            // the link to your model provided by Teachable Machine export panel
            const URL = 'https://teachablemachine.withgoogle.com/models/WQfvGevL2/';

            let model, webcam, labelContainer, maxPredictions;

            // Load the image model and setup the webcam
            async function init() {
                const modelURL = URL + 'model.json';
                const metadataURL = URL + 'metadata.json';

                // load the model and metadata
                // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
                // or files from your local hard drive
                // Note: the pose library adds "tmImage" object to your window (window.tmImage)
                model = await tmImage.load(modelURL, metadataURL);
                maxPredictions = model.getTotalClasses();
                labelContainer = document.getElementById('label-container');
                for (let i = 0; i < maxPredictions; i++) {
                    // and class labels
                    labelContainer.appendChild(document.createElement('div'));
                }
            }
            // run the webcam image through the image model

            async function predict() {
                $('.spinner-border').hide();
                $('.loading').hide();
                // predict can take in an image, video or canvas html element
                var image = document.getElementById('face-image');
                const prediction = await model.predict(image, false);
                prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
                var title =
                    "<div class='result-brand'>당신은 " +
                    prediction[0].className +
                    ' 스타일!</div>';
                var branddescdictionary = {
                    구찌:
                        '창업자 "구찌오 구찌"의 앞글자를 따서 G두개를 겹쳐놓은 모양을 로고로 한 구찌는 가죽 제품 가게로 시작하여 현재 세계적인 셀럽들이 즐겨입는 브랜드가 되었습니다.',
                    디올:
                        '프랑스의 패션 디자이너 크리스챤 디올이 설립한 명품브랜드 디올은 2차 세계대전 이후 화려하고 여성적인 옷으로 "NEW LOOK"이라는 수식어와 함께 세계적인 명성을 가지게 된 브랜드입니다.',
                    루이비통:
                        '여행용 트렁크를 만들던 창업자 "루이 비통"이 1854년에 자기 이름을 걸고 처음 창업하게 되어 시작한 브랜드 루이비통은 가방에 전통이 깊으며 세계 브랜드가치 1위를 다투는 브랜드입니다.', 발렌시아가: '구상, 재단, 봉재, 수선에 이르기까지 모든 의상 제작 과정을 해낼 수 있었던 천재 디자이너 "크리스토발 발렌시아가"가 창업한 브랜드 발렌시아가는 최근 몇 년간 스피드러너, 트리플s 등의 신발로써 세계의 유행을 주도한 브랜드입니다.', 발렌티노:'이탈리아 출신의 창업자 "발렌티노 가라바니"가 설립한 발렌티노는 화이트 컬렉션, 여성들의 드레스 등으로 명성을 얻었다.  발렌티노의 특징으로는 시그니처 컬러인 발렌티노 레드를 비롯하여 락스터드, VLTN, V로고 등이 있다.' };
                var brandclassdictionary = {
                    구찌: 'guc',
                    디올: 'dio',
                    루이비통: 'lou',
                    발렌시아가: 'bal',
                    발렌티노: 'vln',
					버버리: 'bur',
					지방시:'giv',
                    샤넬: 'cha',
                    펜디: 'fen',
                    에르메스: 'her',
                    프라다: 'pra',
                };
                var branddesc =
                    "<div class='result-branddesc'>" +
                    branddescdictionary[prediction[0].className] +
                    '</div>';
                $('.result-message').html(title + branddesc);
                for (let i = 0; i < maxPredictions; i++) {
                    if (prediction[i].probability.toFixed(3) > 0.03) {
                        var ratio = prediction[i].probability.toFixed(3) * 100;
                        ratio = Math.floor(ratio);
                        const percentbar =
                            '<div class="d-flex"><div class="result-brands d-flex">' +
                            prediction[i].className +
                            '</div><div class="bar-container position-relative container"><div id="' +
                            brandclassdictionary[prediction[i].className] +
                            '-box" class="brandboxes"></div><div id="' +
                            brandclassdictionary[prediction[i].className] +
                            '-bar" class="d-flex justify-content-center align-items-center brandbars" style="width: ' +
                            ratio +
                            '%"><span class="d-block brandtexts" id="' +
                            brandclassdictionary[prediction[i].className] +
                            '-text">' +
                            ratio +
                            '%</span></div></div></div></div>';
                        $('#label-container').append(percentbar);
                    }
                }
            }
        </script>
        <script
            type="text/javascript"
            src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6076afaae3d25100"
        ></script>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <div class="addthis_inline_share_toolbox_ktgm m-3"></div>
    </body>
    <!-- image upload Copyright (c) 2021 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR) -->
</html>